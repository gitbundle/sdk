/*
 * GitBundle API
 *
 * GitBundle API documentation.
 *
 * The version of the OpenAPI document: 3.1.0
 *
 * Generated by: https://openapi-generator.tech
 */

use serde::{Deserialize, Serialize};

use crate::models;

#[derive(Clone, Default, Debug, PartialEq, Serialize, Deserialize)]
pub struct PullreqMergeOutput {
    #[serde(
        rename = "allowed_methods",
        default,
        with = "::serde_with::rust::double_option",
        skip_serializing_if = "Option::is_none"
    )]
    pub allowed_methods: Option<Option<Vec<models::PullreqMergeMethod>>>,
    #[serde(
        rename = "branch_deleted",
        default,
        with = "::serde_with::rust::double_option",
        skip_serializing_if = "Option::is_none"
    )]
    pub branch_deleted: Option<Option<bool>>,
    #[serde(rename = "conflict_files")]
    pub conflict_files: Vec<String>,
    #[serde(
        rename = "dry_run",
        default,
        with = "::serde_with::rust::double_option",
        skip_serializing_if = "Option::is_none"
    )]
    pub dry_run: Option<Option<bool>>,
    #[serde(
        rename = "minimum_required_approvals_count",
        default,
        with = "::serde_with::rust::double_option",
        skip_serializing_if = "Option::is_none"
    )]
    pub minimum_required_approvals_count: Option<Option<i64>>,
    #[serde(
        rename = "minimum_required_approvals_count_latest",
        default,
        with = "::serde_with::rust::double_option",
        skip_serializing_if = "Option::is_none"
    )]
    pub minimum_required_approvals_count_latest: Option<Option<i64>>,
    #[serde(
        rename = "requires_code_owners_approval",
        default,
        with = "::serde_with::rust::double_option",
        skip_serializing_if = "Option::is_none"
    )]
    pub requires_code_owners_approval: Option<Option<bool>>,
    #[serde(
        rename = "requires_code_owners_approval_latest",
        default,
        with = "::serde_with::rust::double_option",
        skip_serializing_if = "Option::is_none"
    )]
    pub requires_code_owners_approval_latest: Option<Option<bool>>,
    #[serde(
        rename = "requires_comment_resolution",
        default,
        with = "::serde_with::rust::double_option",
        skip_serializing_if = "Option::is_none"
    )]
    pub requires_comment_resolution: Option<Option<bool>>,
    #[serde(
        rename = "requires_no_change_requests",
        default,
        with = "::serde_with::rust::double_option",
        skip_serializing_if = "Option::is_none"
    )]
    pub requires_no_change_requests: Option<Option<bool>>,
    #[serde(rename = "rule_checks")]
    pub rule_checks: Vec<models::RuleCheckResult>,
    #[serde(
        rename = "sha",
        default,
        with = "::serde_with::rust::double_option",
        skip_serializing_if = "Option::is_none"
    )]
    pub sha: Option<Option<String>>,
}

impl PullreqMergeOutput {
    pub fn new(
        conflict_files: Vec<String>,
        rule_checks: Vec<models::RuleCheckResult>,
    ) -> PullreqMergeOutput {
        PullreqMergeOutput {
            allowed_methods: None,
            branch_deleted: None,
            conflict_files,
            dry_run: None,
            minimum_required_approvals_count: None,
            minimum_required_approvals_count_latest: None,
            requires_code_owners_approval: None,
            requires_code_owners_approval_latest: None,
            requires_comment_resolution: None,
            requires_no_change_requests: None,
            rule_checks,
            sha: None,
        }
    }
}
